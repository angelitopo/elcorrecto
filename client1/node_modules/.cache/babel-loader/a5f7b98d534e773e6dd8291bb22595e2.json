{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\angel\\\\restaurant-ordering-system\\\\client\\\\src\\\\components\\\\Menu.js\";\n// src/components/Menu.js\n\nimport React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport dishesData from './dishesData';\nimport axios from 'axios';\nconst Menu = ({\n  addToCart,\n  cart,\n  tableNumber\n}) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('All');\n  const categories = ['All', ...new Set(dishesData.map(dish => dish.category))];\n  const filteredDishes = dishesData.filter(dish => dish.name.toLowerCase().includes(searchTerm.toLowerCase()) && (selectedCategory === 'All' || dish.category === selectedCategory));\n  const handlePayment = async () => {\n    try {\n      const orderResponse = await axios.post(`${process.env.REACT_APP_API_URL}/orders`, {\n        tableNumber,\n        items: cart,\n        total: cart.reduce((acc, item) => acc + item.price, 0)\n      });\n      const paymentResponse = await axios.post(`${process.env.REACT_APP_API_URL}/orders/pay`, {\n        orderId: orderResponse.data._id,\n        amount: orderResponse.data.total\n      });\n      window.location.href = paymentResponse.data.redirect_url;\n    } catch (error) {\n      console.error('Payment failed', error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search dishes...\",\n    value: searchTerm,\n    onChange: e => setSearchTerm(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"categories\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, categories.map(category => /*#__PURE__*/React.createElement(\"button\", {\n    key: category,\n    onClick: () => setSelectedCategory(category),\n    className: selectedCategory === category ? 'active-category' : 'category-button',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, category)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dishes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, filteredDishes.map(dish => /*#__PURE__*/React.createElement(\"div\", {\n    key: dish.id,\n    className: \"dish-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: dish.image,\n    alt: dish.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, dish.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, dish.description), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dish-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, \"\\xA3\", dish.price.toFixed(2)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => addToCart(dish),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"Add\"))))), cart.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handlePayment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Pay Now (\\xA3\", cart.reduce((acc, item) => acc + item.price, 0).toFixed(2), \")\")));\n};\nexport default Menu;","map":{"version":3,"names":["React","useState","motion","dishesData","axios","Menu","addToCart","cart","tableNumber","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","categories","Set","map","dish","category","filteredDishes","filter","name","toLowerCase","includes","handlePayment","orderResponse","post","process","env","REACT_APP_API_URL","items","total","reduce","acc","item","price","paymentResponse","orderId","data","_id","amount","window","location","href","redirect_url","error","console","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","key","onClick","id","src","image","alt","description","toFixed","length"],"sources":["C:/Users/angel/restaurant-ordering-system/client/src/components/Menu.js"],"sourcesContent":["// src/components/Menu.js\r\n\r\nimport React, { useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport dishesData from './dishesData';\r\nimport axios from 'axios';\r\n\r\nconst Menu = ({ addToCart, cart, tableNumber }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('All');\r\n\r\n  const categories = ['All', ...new Set(dishesData.map((dish) => dish.category))];\r\n\r\n  const filteredDishes = dishesData.filter(\r\n    (dish) =>\r\n      dish.name.toLowerCase().includes(searchTerm.toLowerCase()) &&\r\n      (selectedCategory === 'All' || dish.category === selectedCategory)\r\n  );\r\n\r\n  const handlePayment = async () => {\r\n    try {\r\n      const orderResponse = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/orders`,\r\n        {\r\n          tableNumber,\r\n          items: cart,\r\n          total: cart.reduce((acc, item) => acc + item.price, 0),\r\n        }\r\n      );\r\n\r\n      const paymentResponse = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/orders/pay`,\r\n        {\r\n          orderId: orderResponse.data._id,\r\n          amount: orderResponse.data.total,\r\n        }\r\n      );\r\n\r\n      window.location.href = paymentResponse.data.redirect_url;\r\n    } catch (error) {\r\n      console.error('Payment failed', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu\">\r\n      <div className=\"search-filter\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search dishes...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <div className=\"categories\">\r\n          {categories.map((category) => (\r\n            <button\r\n              key={category}\r\n              onClick={() => setSelectedCategory(category)}\r\n              className={\r\n                selectedCategory === category ? 'active-category' : 'category-button'\r\n              }\r\n            >\r\n              {category}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"dishes\">\r\n        {filteredDishes.map((dish) => (\r\n          <div key={dish.id} className=\"dish-card\">\r\n            <img src={dish.image} alt={dish.name} />\r\n            <h3>{dish.name}</h3>\r\n            <p>{dish.description}</p>\r\n            <div className=\"dish-footer\">\r\n              <span>£{dish.price.toFixed(2)}</span>\r\n              <button onClick={() => addToCart(dish)}>Add</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {cart.length > 0 && (\r\n        <div className=\"cart-footer\">\r\n          <button onClick={handlePayment}>\r\n            Pay Now (£{cart.reduce((acc, item) => acc + item.price, 0).toFixed(2)})\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}